<div class="modal-header">
  <h5 class="modal-title">
    {{ mode === 'edit' ? 'Editar Mascota' : 'Agregar Mascota' }}
  </h5>
  <button type="button" class="btn-close" aria-label="Cerrar" (click)="cancel()"></button>
</div>

<div class="modal-body">
  <form [formGroup]="form">

    <!-- Foto -->
    <div class="mb-3 text-center">
      <img [src]="previewUrl || form.value.photoURL || 'assets/images/default-pet.png'"
           class="rounded circle mb-2"
           style="width: 110px; height:110px; object-fit: cover;" />

      <div>
        <input type="file" accept="image/*" #fileInput hidden (change)="onFileSelected($event)">
        <button type="button" class="btn btn-outline-primary btn-sm"
                (click)="fileInput.click()">Cambiar foto</button>
      </div>
    </div>

    <!-- Nombre -->
    <div class="mb-3">
      <label class="form-label">Nombre</label>
      <input type="text" formControlName="name" class="form-control" />
    </div>

    <!-- Raza -->
    <div class="mb-3">
      <label class="form-label">Raza</label>
      <input type="text" formControlName="breed" class="form-control" />
    </div>

    <!-- Edad -->
    <div class="mb-3">
      <label class="form-label">Edad</label>
      <input type="number" formControlName="age" class="form-control" />
    </div>

    <!-- Tipo -->
    <div class="mb-3">
      <label class="form-label">Tipo</label>
      <select formControlName="type" class="form-select">
        <option value="">Selecciona tipo</option>
        <option value="Perro">Perro</option>
        <option value="Gato">Gato</option>
        <option value="Otro">Otro</option>
      </select>
    </div>

  </form>
</div>

<div class="modal-footer">
  <button class="btn btn-secondary" (click)="cancel()">Cancelar</button>
  <button class="btn btn-primary"
          [disabled]="form.invalid || uploading"
          (click)="save()">
    {{ mode === 'edit' ? 'Guardar cambios' : 'Agregar' }}
  </button>
</div>
