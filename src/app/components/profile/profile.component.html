<!-- Fondo general -->
<div class="profilefeed mt-5 bg-light" >
  <!--<div class="profilefeed bg-light min-vh-100 pb-5">-->

  <!-- Portada -->
  <div class="position-relative">
    <img
      src="assets/images/dog-paws.png"
      class="w-100"
      style="height: 250px; object-fit: cover"
    />
  </div>

  <!-- Contenedor principal -->
  <div class="container position-relative" style="margin-top: -75px">
    <div class="bg-white rounded-3 shadow-sm p-4">
      <!-- Avatar y datos -->
      <div *ngIf="user" class="d-flex align-items-center">
        <!-- Avatar -->
        <div class="me-4">
          <img
            [src]="user.photoURL"
            class="rounded-circle border border-white border-3"
            style="width: 150px; height: 150px; object-fit: cover"
          />
        </div>

        <!-- Info de usuario -->
        <div>
          <h2 class="mb-1">{{ user.fullName }}</h2>
          <!-- <p class="text-muted mb-0">@{{ user.username }}</p> -->
        </div>

        <!-- TODO: -->
        <!-- Etiqueta "amigos" cuando proceda -->
         <span *ngIf="!isOwnProfile && isFriend" class="badge bg-dark d-flex align-items-center gap-1">
          <i class="bi bi-people-fill"></i>
          Amigos
         </span>

        <!-- Botones de acción (solo si NO es tu propio perfil) -->
        <div class="ms-auto mt-3 mt-md-0" *ngIf="!isOwnProfile">

          <!-- Botones de agregar/ eliminar amigo -->
          <button
            *ngIf="!isFriend"
            class="btn btn-primary"
            (click)="addFriend()"
          >
            Agregar amigo
          </button>

          <!-- Botón para eliminar amigo -->
          <button
            *ngIf="isFriend"
            class="btn btn-danger"
            (click)="removeFriend()"
          >
            Eliminar amigo
          </button>
        </div>
      </div>

      <!-- Menú de navegación -->
      <div class="mt-4 border-top pt-3 d-flex gap-3">
        <a href="#" class="text-decoration-none text-dark fw-semibold"
          >Publicaciones</a
        >
        <!-- <a href="#" class="text-decoration-none text-dark fw-semibold">Mascotas</a>
        <a href="#" class="text-decoration-none text-dark fw-semibold">Información</a>
        <a href="#" class="text-decoration-none text-dark fw-semibold">Amigos</a> -->
      </div>
    </div>
    <!-- Sección de publicaciones u otro contenido -->
  </div>
</div>
<!-- Sección de contenido -->
<div class="container mt-4">
  <div class="row">
    <!-- Columna izquierda -->
    <div class="col-md-4 d-none d-md-block">
      <div class="sticky-col">
        <app-detail-profile
          [user]="user"
          [petPhotos]="petPhotos"
          [friends]="friends"
        >
        </app-detail-profile>
      </div>
    </div>

    <!-- Columna derecha -->
    <div class="col-md-8">
      <!-- ¿Qué estás pensando? -->

      <app-add-post *ngIf="isOwnProfile"></app-add-post>
      <!-- <div class="bg-white rounded-3 shadow-sm p-3 mb-4">
        <input
          type="text"
          class="form-control rounded-pill mb-2"
          placeholder="¿Qué estás pensando, {{ user.fullName }}?"
        />
        <div class="d-flex gap-3 mt-2 small text-muted">
          <span><i class="bi bi-image me-1"></i>Foto/video</span>
        </div>
      </div> -->

      <!-- Navegación de pestañas -->
      <ul class="nav nav-tabs mb-3">
        <li class="nav-item">
          <a class="nav-link active">Publicaciones</a>
        </li>
        <!-- <li class="nav-item">
          <a class="nav-link">Información</a>
        </li>
        <li class="nav-item">
          <a class="nav-link">Amigos</a>
        </li>
        <li class="nav-item">
          <a class="nav-link">Fotos</a>
        </li> -->
      </ul>

      <!-- Publicaciones  -->
      <app-posts *ngIf="user" [uid]="user.uid"></app-posts>
    </div>
  </div>
</div>
